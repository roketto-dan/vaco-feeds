---
import { Profile } from "./Profile";
import { posts } from "../modules/post";
import { formatDistanceToNowStrict } from "date-fns";
import { ko as koLocale } from "date-fns/locale/ko";

const { class: classList } = Astro.props;
---
<section class={`${classList}`}>
  <div>
    <p class="px-1 text-xl font-bold">많은 사람들이 보는 글</p>
    <p class="mt-[2px] px-1 text-[14px] text-[#616161]">지금 이 순간 가장 많은 사람들이 보고 있는 글</p>
  </div>
  <ul class="flex flex-col gap-3 mt-6 pl-4">
    {posts.slice(3, 6).map((post) => (
      <a href={post.link}>
        <li class="flex gap-5 items-center">
          <img src={`/thumbnails/${post.id}.webp`} width={200} height={150} alt="" class="w-[200px] h-[150px] object-cover rounded-xl" />
          <div>
            <p class="text-xl font-bold text-ellipsis overflow-hidden line-clamp-2">{post.title}</p>
            <div class="mt-3 flex items-center gap-1 text-[#3B3B3B]">
              <Profile userName={post.user} userAvatarUrl="/avatars/1.webp" blogAvatarUrl="/avatars/1.webp" />
              |
              <time datetime={new Date(post.date).toISOString()} class="text-sm text-nowrap">
                {formatDistanceToNowStrict(new Date(post.date), { addSuffix: true, locale: koLocale })}
              </time>
            </div>
          </div>
        </li>
      </a>
    ))}
  </ul>
</section>
